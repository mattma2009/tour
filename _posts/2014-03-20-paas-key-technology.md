---
layout: post
title: 浅谈paas的关键技术
categories: [work]
tags: [paas]
---

最近对PAAS的一些关键技术梳理了一下，下文简单说明一些设计思路：

- 容器隔离(LXC) 技术
- 动态伸缩机制和指标选择
- 故障隔离和自我恢复
- 消息组件架构，解耦
- IAAS适配和池管理
- 云负载策略
- 纯异步路由机制
- 组件高可用性

**容器（Container）技术**，随着PAAS的兴起，最近火的不行。从Docker迅速的崛起和各大公司的支持，可见一斑。简单的说Docker是一个构建在LXC之上的,基于进程容器(Processcontainer)的轻量级VM解决方案，这有一篇文章，[详细介绍Docker](http://blog.csdn.net/colorant/article/details/20608157)。我们采用LXC的初衷，主要看中其资源隔离、虚拟化开销小（进程级）、启动速度快、易于克隆和迁移、以及能够动态参数调整的特性。

**动态伸缩机制和指标选择**，关于PAAS中应用和服务的动态伸缩指标的选择，我前面有一篇文章专门来讲，[传送门](http://zhengxiu.name/2013/12/autoextend-policy/)。当然，最近看到有些公司采用连接数和QPS等。但我觉得服务质量应该是这个问题的根。

**故障隔离和自我恢复**，这里主要考虑的是PAAS平台上托管的应用应该具备，故障隔离和自我恢复的能力，当然这也应该是paas的基本能力，paas能够实时采集和监控应用的状态，当应用出现故障时，paas平台会进行自动隔离，并且根据部署和伸缩策略判断是否需要重新部署新应用实例。当然这里面的核心是如何尽快采集应用状态和通知paas路由组件。

**消息组件架构，解耦**，paas核心组件之间采用消息机制，包括请求响应以及发布订阅模式，使平台组件具备松耦合、自发现机制和高可用性；后来看cloudfoundry实现，竟然也采用的消息机制，可以说思路是比较接近的。

**IAAS适配和池管理**，采用抽象通用的适配层，不绑定任何一家的IAAS平台，当然也可以直接采用物理机，上面通过LXC进行隔离和使用。为提升申请或者归还的效率，特设计的虚拟机资源池的管理。

![](http://mattma2009.qiniudn.com/20140320paas/container2.jpg)